---
import heroImg from '@assets/HeroHolder.jpeg';
import type { HeroProps } from '../types/Hero';

const { HeroTitle, HeroSubtitle, CTA, Discover } = Astro.props as HeroProps;
---

<section id="inicio" class="relative flex min-h-screen items-center justify-start overflow-hidden">
  <div id="hero-sentinel" class="absolute top-0 h-1 w-full"></div>
  <!-- Background image -->
  <div
    class="absolute inset-0 bg-cover bg-center bg-no-repeat"
    style={`background-image: url('${heroImg.src}');`}
  >
    <!-- Overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-black/50 via-black/40 to-black/20"></div>
  </div>

  <!-- Content -->
  <div class="relative z-10 container mx-auto px-4 text-left lg:px-8">
    <div class="mx-auto max-w-4xl space-y-8">
      <h1
        class="font-heading text-primary-foreground animate-fade-up fade-up-title text-4xl leading-tight font-bold md:text-5xl lg:text-6xl xl:text-7xl"
      >
        {HeroTitle}
      </h1>

      <p
        class="text-primary-foreground/90 animate-fade-up fade-up-subtitle max-w-2xl text-lg md:text-xl lg:text-2xl"
      >
        {HeroSubtitle}
      </p>
      <div class="animate-fade-up fade-up-cta flex flex-col justify-start gap-4 pt-4 sm:flex-row">
        {
          CTA.map((cta: { text: string; href: string; style: string }) => (
            <a
              href={cta.href}
              class={
                cta.style === 'primary'
                  ? `bg-primary text-primary-foreground shadow-primary/30 hover:bg-primary/90 hover:shadow-primary/40 inline-flex items-center justify-center rounded-xl px-8 py-3 text-lg font-semibold shadow-lg transition-all hover:-translate-y-0.5`
                  : `text-primary-foreground/80 hover:text-primary-foreground inline-flex items-center justify-center rounded-xl px-8 py-3 text-lg font-medium underline-offset-4 transition-all hover:-translate-y-0.5 hover:underline`
              }
            >
              {cta.text}
            </a>
          ))
        }
      </div>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div
    class="animate-fade-up absolute bottom-8 left-1/2 -translate-x-1/2"
    style="--dur:0.9s; --delay:0.9s; --offset:8px"
  >
    <a
      href={Discover.href}
      class="text-primary-foreground/70 hover:text-primary-foreground flex flex-col items-center gap-2 transition-colors"
      aria-label="Scroll to next section"
    >
      <span class="text-sm font-medium">{Discover.text}</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 animate-bounce"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="1.5"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
      </svg>
    </a>
  </div>
</section>

<style>
  .fade-up-title {
    --dur: 0.7s;
    --delay: 0.15s;
    --offset: 24px;
  }

  .fade-up-subtitle {
    --dur: 1s;
    --delay: 0.35s;
    --offset: 16px;
  }

  .fade-up-cta {
    --dur: 1.05s;
    --delay: 0.55s;
    --offset: 10px;
  }
  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(var(--offset, 16px));
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-up {
    animation-name: fade-up;
    animation-duration: var(--dur, 0.8s);
    animation-delay: var(--delay, 0s);
    animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
    animation-fill-mode: both;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-fade-up {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }
  }
</style>
